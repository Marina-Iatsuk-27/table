{
    "sourceFile": "index.html",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 40,
            "patches": [
                {
                    "date": 1720029873349,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1720029885009,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -706,9 +706,9 @@\n         }\n \n         $(document).on('click', '.reloadData', function () {\n             sessionStorage.clear();\n-            \n+            $(.deleteModify).text(\"Показать модификации\");\n             fetchData();\n         });\n \n         $(document).on('click', '.deleteModify', function () {\n"
                },
                {
                    "date": 1720029896271,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -706,10 +706,9 @@\n         }\n \n         $(document).on('click', '.reloadData', function () {\n             sessionStorage.clear();\n-            $(.deleteModify).text(\"Показать модификации\");\n-            fetchData();\n+            $(.deleteModify'.deleteModify'tchData();\n         });\n \n         $(document).on('click', '.deleteModify', function () {\n     if ($(this).text() === \"Показать товар без модификации\") {\n"
                },
                {
                    "date": 1720029903560,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -706,9 +706,10 @@\n         }\n \n         $(document).on('click', '.reloadData', function () {\n             sessionStorage.clear();\n-            $(.deleteModify'.deleteModify'tchData();\n+            $('.deleteModify').text(\"Показать модификации\");\n+            fetchData();\n         });\n \n         $(document).on('click', '.deleteModify', function () {\n     if ($(this).text() === \"Показать товар без модификации\") {\n"
                },
                {
                    "date": 1720029933784,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -832,8 +832,9 @@\n             alert('Введите число в диапазоне от 15 до 45');\n         } else {\n             renderTableReplenishment(originalData, valueReplenishment);\n             $('#daysInput').val('');\n+            $('.deleteModify').text(\"Показать модификации\");\n         }\n     });\n \n     function updateFilterIcons() {\n"
                },
                {
                    "date": 1720029953477,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -703,9 +703,19 @@\n                     responsive: true\n                 }\n             });\n         }\n+        $('.calculateReplenishment').on('click', function (value) {\n+        const valueReplenishment = parseInt($('#daysInput').val());\n \n+        if (isNaN(valueReplenishment) || valueReplenishment < 15 || valueReplenishment > 45) {\n+            alert('Введите число в диапазоне от 15 до 45');\n+        } else {\n+            renderTableReplenishment(originalData, valueReplenishment);\n+            $('#daysInput').val('');\n+            $('.deleteModify').text(\"Показать модификации\");\n+        }\n+    });\n         $(document).on('click', '.reloadData', function () {\n             sessionStorage.clear();\n             $('.deleteModify').text(\"Показать модификации\");\n             fetchData();\n@@ -824,20 +834,10 @@\n         filterStatus[currentColumn] = true;\n         updateFilterIcons();\n     });\n \n-    $('.calculateReplenishment').on('click', function (value) {\n-        const valueReplenishment = parseInt($('#daysInput').val());\n+    \n \n-        if (isNaN(valueReplenishment) || valueReplenishment < 15 || valueReplenishment > 45) {\n-            alert('Введите число в диапазоне от 15 до 45');\n-        } else {\n-            renderTableReplenishment(originalData, valueReplenishment);\n-            $('#daysInput').val('');\n-            $('.deleteModify').text(\"Показать модификации\");\n-        }\n-    });\n-\n     function updateFilterIcons() {\n         $('.bi-filter').each(function () {\n             const column = $(this).data('column');\n             if (filterStatus[column]) {\n"
                },
                {
                    "date": 1720029966711,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -703,9 +703,10 @@\n                     responsive: true\n                 }\n             });\n         }\n-        $('.calculateReplenishment').on('click', function (value) {\n+       \n+        $().on('click', function (value) {\n         const valueReplenishment = parseInt($('#daysInput').val());\n \n         if (isNaN(valueReplenishment) || valueReplenishment < 15 || valueReplenishment > 45) {\n             alert('Введите число в диапазоне от 15 до 45');\n"
                },
                {
                    "date": 1720029973039,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -704,9 +704,9 @@\n                 }\n             });\n         }\n        \n-        $().on('click', function (value) {\n+        $().on('click', '.calculateReplenishment'function (value) {\n         const valueReplenishment = parseInt($('#daysInput').val());\n \n         if (isNaN(valueReplenishment) || valueReplenishment < 15 || valueReplenishment > 45) {\n             alert('Введите число в диапазоне от 15 до 45');\n"
                },
                {
                    "date": 1720029987725,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -704,9 +704,9 @@\n                 }\n             });\n         }\n        \n-        $().on('click', '.calculateReplenishment'function (value) {\n+        $(document).on('click', '.calculateReplenishment',function (value) {\n         const valueReplenishment = parseInt($('#daysInput').val());\n \n         if (isNaN(valueReplenishment) || valueReplenishment < 15 || valueReplenishment > 45) {\n             alert('Введите число в диапазоне от 15 до 45');\n"
                },
                {
                    "date": 1720030061136,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -715,9 +715,10 @@\n             $('#daysInput').val('');\n             $('.deleteModify').text(\"Показать модификации\");\n         }\n     });\n-        $(document).on('click', '.reloadData', function () {\n+        \n+    $(document).on('click', '.reloadData', function () {\n             sessionStorage.clear();\n             $('.deleteModify').text(\"Показать модификации\");\n             fetchData();\n         });\n"
                },
                {
                    "date": 1720030106851,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -718,9 +718,9 @@\n     });\n         \n     $(document).on('click', '.reloadData', function () {\n             sessionStorage.clear();\n-            $('.deleteModify').text(\"Показать модификации\");\n+            $('.deleteModify').text(\"Показать без модификации\");\n             fetchData();\n         });\n \n         $(document).on('click', '.deleteModify', function () {\n"
                },
                {
                    "date": 1720030116172,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -712,9 +712,9 @@\n             alert('Введите число в диапазоне от 15 до 45');\n         } else {\n             renderTableReplenishment(originalData, valueReplenishment);\n             $('#daysInput').val('');\n-            $('.deleteModify').text(\"Показать модификации\");\n+            $('.deleteModify').text(\"Показать без модификации\");\n         }\n     });\n         \n     $(document).on('click', '.reloadData', function () {\n"
                },
                {
                    "date": 1720030127452,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -712,15 +712,15 @@\n             alert('Введите число в диапазоне от 15 до 45');\n         } else {\n             renderTableReplenishment(originalData, valueReplenishment);\n             $('#daysInput').val('');\n-            $('.deleteModify').text(\"Показать без модификации\");\n+            $('.deleteModify').text(\"Показать без модификаций\");\n         }\n     });\n         \n     $(document).on('click', '.reloadData', function () {\n             sessionStorage.clear();\n-            $('.deleteModify').text(\"Показать без модификации\");\n+            $('.deleteModify').text(\"Показать без модификаций\");\n             fetchData();\n         });\n \n         $(document).on('click', '.deleteModify', function () {\n"
                },
                {
                    "date": 1720030370961,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -704,23 +704,22 @@\n                 }\n             });\n         }\n        \n-        $(document).on('click', '.calculateReplenishment',function (value) {\n+        $().on('click', '.calculateReplenishment'function (value) {\n         const valueReplenishment = parseInt($('#daysInput').val());\n \n         if (isNaN(valueReplenishment) || valueReplenishment < 15 || valueReplenishment > 45) {\n             alert('Введите число в диапазоне от 15 до 45');\n         } else {\n             renderTableReplenishment(originalData, valueReplenishment);\n             $('#daysInput').val('');\n-            $('.deleteModify').text(\"Показать без модификаций\");\n+            $('.deleteModify').text(\"Показать модификации\");\n         }\n     });\n-        \n-    $(document).on('click', '.reloadData', function () {\n+        $(document).on('click', '.reloadData', function () {\n             sessionStorage.clear();\n-            $('.deleteModify').text(\"Показать без модификаций\");\n+            $('.deleteModify').text(\"Показать модификации\");\n             fetchData();\n         });\n \n         $(document).on('click', '.deleteModify', function () {\n"
                },
                {
                    "date": 1720030380121,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -704,22 +704,23 @@\n                 }\n             });\n         }\n        \n-        $().on('click', '.calculateReplenishment'function (value) {\n+        $(document).on('click', '.calculateReplenishment',function (value) {\n         const valueReplenishment = parseInt($('#daysInput').val());\n \n         if (isNaN(valueReplenishment) || valueReplenishment < 15 || valueReplenishment > 45) {\n             alert('Введите число в диапазоне от 15 до 45');\n         } else {\n             renderTableReplenishment(originalData, valueReplenishment);\n             $('#daysInput').val('');\n-            $('.deleteModify').text(\"Показать модификации\");\n+            $('.deleteModify').text(\"Показать без модификаций\");\n         }\n     });\n-        $(document).on('click', '.reloadData', function () {\n+        \n+    $(document).on('click', '.reloadData', function () {\n             sessionStorage.clear();\n-            $('.deleteModify').text(\"Показать модификации\");\n+            $('.deleteModify').text(\"Показать без модификаций\");\n             fetchData();\n         });\n \n         $(document).on('click', '.deleteModify', function () {\n"
                },
                {
                    "date": 1720030386942,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -722,8 +722,9 @@\n             $('.deleteModify').text(\"Показать без модификаций\");\n             fetchData();\n         });\n \n+        \n         $(document).on('click', '.deleteModify', function () {\n     if ($(this).text() === \"Показать товар без модификации\") {\n         // Изменяем текст кнопки на \"Показать модификации\"\n         $(this).text(\"Показать модификации\");\n"
                },
                {
                    "date": 1720030392490,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -722,12 +722,12 @@\n             $('.deleteModify').text(\"Показать без модификаций\");\n             fetchData();\n         });\n \n-        \n+\n         $(document).on('click', '.deleteModify', function () {\n     if ($(this).text() === \"Показать товар без модификации\") {\n-        // Изменяем текст кнопки на \"Показать модификации\"\n+        \n         $(this).text(\"Показать модификации\");\n \n         // Выполняем функцию renderTableWithoutSizes\n         \n"
                },
                {
                    "date": 1720030430984,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -724,9 +724,9 @@\n         });\n \n \n         $(document).on('click', '.deleteModify', function () {\n-    if ($(this).text() === \"Показать товар без модификации\") {\n+    if ($(this).text() === \"Показать товар без модификаций\") {\n         \n         $(this).text(\"Показать модификации\");\n \n         // Выполняем функцию renderTableWithoutSizes\n"
                },
                {
                    "date": 1720030440820,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -724,9 +724,9 @@\n         });\n \n \n         $(document).on('click', '.deleteModify', function () {\n-    if ($(this).text() === \"Показать товар без модификаций\") {\n+    if ($(this).text() === \"Показать без модификаций\") {\n         \n         $(this).text(\"Показать модификации\");\n \n         // Выполняем функцию renderTableWithoutSizes\n"
                },
                {
                    "date": 1720030446056,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -724,9 +724,9 @@\n         });\n \n \n         $(document).on('click', '.deleteModify', function () {\n-    if ($(this).text() === \"Показать без модификаций\") {\n+    if ($(this).text() === \"Показать товар без модификаций\") {\n         \n         $(this).text(\"Показать модификации\");\n \n         // Выполняем функцию renderTableWithoutSizes\n"
                },
                {
                    "date": 1720030452596,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -718,9 +718,9 @@\n     });\n         \n     $(document).on('click', '.reloadData', function () {\n             sessionStorage.clear();\n-            $('.deleteModify').text(\"Показать без модификаций\");\n+            $('.deleteModify').text(\"Показать товар без модификаций\");\n             fetchData();\n         });\n \n \n"
                },
                {
                    "date": 1720030551163,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -179,9 +179,10 @@\n                     <button class=\"btn btn-outline-secondary calculateReplenishment\" type=\"button\">Рассчитать пополнение\n                         (шт)</button>\n                 </div>\n             </div>\n-            <button class=\"btn btn-outline-secondary deleteModify\" type=\"button\">Показать товар без модификации</button>\n+            <button class=\"btn btn-outline-secondary deleteModify\" type=\"button\">            $('.deleteModify').text(\"Показать товар без модификаций\");\n+            </button>\n             <button class=\"btn btn-outline-secondary reloadData\" type=\"button\">Обновить данные</button>\n         </div>\n \n         <div class=\"table-inner container mt-4\">\n@@ -712,9 +713,9 @@\n             alert('Введите число в диапазоне от 15 до 45');\n         } else {\n             renderTableReplenishment(originalData, valueReplenishment);\n             $('#daysInput').val('');\n-            $('.deleteModify').text(\"Показать без модификаций\");\n+            $('.deleteModify').text(\"Показать товар без модификаций\");\n         }\n     });\n         \n     $(document).on('click', '.reloadData', function () {\n"
                },
                {
                    "date": 1720030558391,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -179,10 +179,9 @@\n                     <button class=\"btn btn-outline-secondary calculateReplenishment\" type=\"button\">Рассчитать пополнение\n                         (шт)</button>\n                 </div>\n             </div>\n-            <button class=\"btn btn-outline-secondary deleteModify\" type=\"button\">            $('.deleteModify').text(\"Показать товар без модификаций\");\n-            </button>\n+            <button class=\"btn btn-outline-secondary deleteModify\" type=\"button\">Показать товар без модификаций</button>\n             <button class=\"btn btn-outline-secondary reloadData\" type=\"button\">Обновить данные</button>\n         </div>\n \n         <div class=\"table-inner container mt-4\">\n"
                },
                {
                    "date": 1720030812284,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -15,9 +15,9 @@\n             display: flex;\n             flex-direction: column;\n             align-items: flex-start;\n             height: 90vh;\n-            width: 80vw;\n+            width: 90vw;\n         }\n \n         img {\n             height: 150px;\n"
                },
                {
                    "date": 1720030836416,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -39,9 +39,8 @@\n         }\n \n         #filterValuesList {\n             max-height: 200px;\n-            /* Максимальная высота списка */\n             overflow-y: auto;\n             /* Вертикальная прокрутка */\n             border: 1px solid #ddd;\n             /* Граница для наглядности */\n"
                },
                {
                    "date": 1720030842423,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -38,11 +38,10 @@\n             height: 600px;\n         }\n \n         #filterValuesList {\n-            max-height: 200px;\n+            max-height: 100px;\n             overflow-y: auto;\n-            /* Вертикальная прокрутка */\n             border: 1px solid #ddd;\n             /* Граница для наглядности */\n             padding: 10px;\n             /* Внутренний отступ */\n"
                },
                {
                    "date": 1720030848947,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -41,11 +41,9 @@\n         #filterValuesList {\n             max-height: 100px;\n             overflow-y: auto;\n             border: 1px solid #ddd;\n-            /* Граница для наглядности */\n             padding: 10px;\n-            /* Внутренний отступ */\n         }\n \n         .filter-item {\n             margin-bottom: 5px;\n"
                },
                {
                    "date": 1720030854155,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -46,9 +46,8 @@\n         }\n \n         .filter-item {\n             margin-bottom: 5px;\n-            /* Отступ между элементами */\n             cursor: pointer;\n \n         }\n \n"
                },
                {
                    "date": 1720030866174,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -47,9 +47,8 @@\n \n         .filter-item {\n             margin-bottom: 5px;\n             cursor: pointer;\n-\n         }\n \n         .red-cell {\n             background-color: #ffcccc;\n@@ -67,9 +66,8 @@\n         }\n \n         .green-cell {\n             background-color: #ccffcc;\n-            /* Зеленый, но не яркий */\n         }\n \n         .headerContainer {\n             display: flex;\n"
                },
                {
                    "date": 1720030872043,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -50,20 +50,17 @@\n             cursor: pointer;\n         }\n \n         .red-cell {\n-            background-color: #ffcccc;\n-            /* Красный */\n+            background-color: #ffcccc;*/\n         }\n \n         .yellow-cell {\n             background-color: #ecec58;\n-            /* Желтый */\n         }\n \n         .light-yellow-cell {\n             background-color: #ffffe0;\n-            /* Светло-желтый */\n         }\n \n         .green-cell {\n             background-color: #ccffcc;\n"
                },
                {
                    "date": 1720030957252,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -50,9 +50,9 @@\n             cursor: pointer;\n         }\n \n         .red-cell {\n-            background-color: #ffcccc;*/\n+            background-color: #ffcccc;\n         }\n \n         .yellow-cell {\n             background-color: #ecec58;\n@@ -113,9 +113,9 @@\n             padding: 8px 16px;\n             border: 1px solid #ccc;\n         }\n \n-        thead th {\n+        thead {\n             position: sticky;\n             top: 0;\n             background: #f9f9f9;\n             z-index: 10;\n"
                },
                {
                    "date": 1720031040774,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -119,16 +119,8 @@\n             top: 0;\n             background: #f9f9f9;\n             z-index: 10;\n         }\n-\n-        /* tbody th,\n-        tbody td:first-child {\n-            position: sticky;\n-            left: 0;\n-            background: #f9f9f9;\n-            z-index: 5;\n-        } */\n         .fixed-column {\n             position: sticky;\n             left: 0;\n             background-color: #fff;\n"
                },
                {
                    "date": 1720031047705,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -123,9 +123,9 @@\n         .fixed-column {\n             position: sticky;\n             left: 0;\n             background-color: #fff;\n-            /* Цвет фона для первых двух столбцов */\n+          \n             /* z-index: 2; */\n         }\n \n         .fixed-column-2 {\n"
                },
                {
                    "date": 1720031647854,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -130,11 +130,10 @@\n \n         .fixed-column-2 {\n             position: sticky;\n             left: 100px;\n-            /* Измените это значение в зависимости от ширины первого столбца */\n             background-color: #fff;\n-            /* Цвет фона для первых двух столбцов */\n+           \n             /* z-index: 2; */\n         }\n \n         /* tbody td:first-child {\n@@ -145,8 +144,22 @@\n             left: 75px;\n             background: #f9f9f9;\n             z-index: 5;\n         } */\n+\n+        @media (max-width: 1500px) {\n+        body {\n+            font-size: 0.9em;\n+        }\n+\n+        .headerContainer {\n+            padding: 20px;\n+        }\n+\n+        .input-group, .reloadData, .deleteModify {\n+            font-size: 0.8em;\n+        }\n+    }\n     </style>\n </head>\n \n <body>\n"
                },
                {
                    "date": 1720031768600,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -145,9 +145,9 @@\n             background: #f9f9f9;\n             z-index: 5;\n         } */\n \n-        @media (max-width: 1500px) {\n+        @media (max-width: 1800px) {\n         body {\n             font-size: 0.9em;\n         }\n \n"
                },
                {
                    "date": 1720031921732,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -147,9 +147,9 @@\n         } */\n \n         @media (max-width: 1800px) {\n         body {\n-            font-size: 0.9em;\n+            font-size: 20 !important;\n         }\n \n         .headerContainer {\n             padding: 20px;\n"
                },
                {
                    "date": 1720031935953,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -147,9 +147,9 @@\n         } */\n \n         @media (max-width: 1800px) {\n         body {\n-            font-size: 20 !important;\n+            font-size: px !important;\n         }\n \n         .headerContainer {\n             padding: 20px;\n"
                },
                {
                    "date": 1720031942594,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -147,9 +147,9 @@\n         } */\n \n         @media (max-width: 1800px) {\n         body {\n-            font-size: px !important;\n+            font-size: 0.5rem !important;\n         }\n \n         .headerContainer {\n             padding: 20px;\n"
                },
                {
                    "date": 1720031955739,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -147,9 +147,9 @@\n         } */\n \n         @media (max-width: 1800px) {\n         body {\n-            font-size: 0.5rem !important;\n+            font-size: 0.8rem !important;\n         }\n \n         .headerContainer {\n             padding: 20px;\n"
                },
                {
                    "date": 1720032040059,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -154,11 +154,9 @@\n         .headerContainer {\n             padding: 20px;\n         }\n \n-        .input-group, .reloadData, .deleteModify {\n-            font-size: 0.8em;\n-        }\n+        \n     }\n     </style>\n </head>\n \n"
                },
                {
                    "date": 1720032049142,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -145,9 +145,9 @@\n             background: #f9f9f9;\n             z-index: 5;\n         } */\n \n-        @media (max-width: 1800px) {\n+        @media (max-width: 1700px) {\n         body {\n             font-size: 0.8rem !important;\n         }\n \n"
                }
            ],
            "date": 1720029873349,
            "name": "Commit-0",
            "content": "<!DOCTYPE html>\n<html lang=\"en\">\n\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Table</title>\n    <link rel=\"stylesheet\" href=\"https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css\">\n    <link href=\"https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css\" rel=\"stylesheet\">\n    <script src=\"https://cdn.jsdelivr.net/npm/chart.js\"></script>\n\n    <script src=\"https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js\"></script>\n    <style>\n        .table-wrapper {\n            display: flex;\n            flex-direction: column;\n            align-items: flex-start;\n            height: 90vh;\n            width: 80vw;\n        }\n\n        img {\n            height: 150px;\n        }\n\n        .bi-filter {\n            margin-left: 5px;\n            cursor: pointer;\n\n        }\n\n        .modal-body label {\n            display: block;\n            margin-bottom: 10px;\n        }\n\n        .modal-content {\n            height: 600px;\n        }\n\n        #filterValuesList {\n            max-height: 200px;\n            /* Максимальная высота списка */\n            overflow-y: auto;\n            /* Вертикальная прокрутка */\n            border: 1px solid #ddd;\n            /* Граница для наглядности */\n            padding: 10px;\n            /* Внутренний отступ */\n        }\n\n        .filter-item {\n            margin-bottom: 5px;\n            /* Отступ между элементами */\n            cursor: pointer;\n\n        }\n\n        .red-cell {\n            background-color: #ffcccc;\n            /* Красный */\n        }\n\n        .yellow-cell {\n            background-color: #ecec58;\n            /* Желтый */\n        }\n\n        .light-yellow-cell {\n            background-color: #ffffe0;\n            /* Светло-желтый */\n        }\n\n        .green-cell {\n            background-color: #ccffcc;\n            /* Зеленый, но не яркий */\n        }\n\n        .headerContainer {\n            display: flex;\n            justify-content: space-around;\n            width: 100%;\n            /* max-height: 40px; */\n            padding: 30px;\n        }\n\n        .input-group {\n            width: 50%;\n        }\n\n        .reloadData {\n            height: calc(1.5em + .75rem + 2px);\n        }\n\n        .deleteModify {\n            height: calc(1.5em + .75rem + 2px);\n        }\n\n        .inscription {\n            font-size: smaller;\n            color: rgba(44, 76, 65, 0.54);\n            font-style: italic;\n        }\n\n        .table-inner {\n            position: relative;\n            overflow: auto;\n            max-height: 80%;\n            max-width: 100%;\n            padding: 0;\n            margin-left: 30px;\n            margin-right: 30px;\n            margin-bottom: 30px;\n        }\n\n        table {\n            border-collapse: collapse;\n            width: 100%;\n        }\n\n        th,\n        td {\n            padding: 8px 16px;\n            border: 1px solid #ccc;\n        }\n\n        thead th {\n            position: sticky;\n            top: 0;\n            background: #f9f9f9;\n            z-index: 10;\n        }\n\n        /* tbody th,\n        tbody td:first-child {\n            position: sticky;\n            left: 0;\n            background: #f9f9f9;\n            z-index: 5;\n        } */\n        .fixed-column {\n            position: sticky;\n            left: 0;\n            background-color: #fff;\n            /* Цвет фона для первых двух столбцов */\n            /* z-index: 2; */\n        }\n\n        .fixed-column-2 {\n            position: sticky;\n            left: 100px;\n            /* Измените это значение в зависимости от ширины первого столбца */\n            background-color: #fff;\n            /* Цвет фона для первых двух столбцов */\n            /* z-index: 2; */\n        }\n\n        /* tbody td:first-child {\n            z-index: 5;\n        }\n        tbody td:nth-child(2) {\n            position: sticky;\n            left: 75px;\n            background: #f9f9f9;\n            z-index: 5;\n        } */\n    </style>\n</head>\n\n<body>\n\n\n    <div class=\"table-wrapper\">\n        <div class=\"headerContainer\">\n            <div class=\"input-group\">\n                <input type=\"number\" id=\"daysInput\" class=\"form-control\" placeholder=\"Введите количество дней\"\n                    aria-label=\"Введите количество дней от 15 до 45\" aria-describedby=\"basic-addon2\" min=\"15\" max=\"45\">\n                <div class=\"input-group-append\">\n                    <button class=\"btn btn-outline-secondary calculateReplenishment\" type=\"button\">Рассчитать пополнение\n                        (шт)</button>\n                </div>\n            </div>\n            <button class=\"btn btn-outline-secondary deleteModify\" type=\"button\">Показать товар без модификации</button>\n            <button class=\"btn btn-outline-secondary reloadData\" type=\"button\">Обновить данные</button>\n        </div>\n\n        <div class=\"table-inner container mt-4\">\n            <table class=\"table table-bordered\" id=\"data-table\">\n                <thead class=\"thead-dark\">\n                    <tr>\n                        <th class=\"fixed-column\">Фото</th>\n                        <th class=\"fixed-column-2\">Предмет <i class=\"bi bi-filter\" data-column=\"subjectName\"></i></th>\n                        <th>Номенклатура (введите) <i class=\"bi bi-filter\" data-column=\"nmID\"></i></th>\n                        <th>Размер (введите) <i class=\"bi bi-filter\" data-column=\"allowed_sizes\"></i></th>\n                        <th>Заказы 1м <i class=\"bi bi-filter\" data-column=\"orders30\"></i></th>\n                        <th>Заказы 14 д <i class=\"bi bi-filter\" data-column=\"orders14\"></i></th>\n                        <th>График продаж </th>\n                        <th>Остаток (шт) <i class=\"bi bi-filter\" data-column=\"leftovers\"></i></th>\n                        <th>Остаток (дн) <i class=\"bi bi-filter\" data-column=\"leftoversDays\"></i></th>\n                        <th>Пополнить (шт) <i class=\"bi bi-filter\" data-column=\"replenishment\"></i></th>\n                        <th>Артикул <i class=\"bi bi-filter\" data-column=\"vendorCode\"></i></th>\n                    </tr>\n                </thead>\n\n                <tbody>\n                    <!-- Строки  добавлены через renderTable -->\n                </tbody>\n            </table>\n            <div id=\"loading\" style=\"display: none;\">Загрузка...</div>\n        </div>\n\n\n        <div class=\"modal fade\" id=\"filterModal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"filterModalLabel\"\n            aria-hidden=\"true\">\n            <div class=\"modal-dialog\" role=\"document\">\n                <div class=\"modal-content\">\n                    <div class=\"modal-header\">\n                        <h5 class=\"modal-title\" id=\"filterModalLabel\">Фильтрация</h5>\n                        <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n                            <span aria-hidden=\"true\">&times;</span>\n                        </button>\n                    </div>\n                    <div class=\"modal-body\">\n                        <label>\n                            <input type=\"radio\" name=\"sortOrder\" value=\"asc\"> Сортировка от А до Я\n                        </label>\n                        <label>\n                            <input type=\"radio\" name=\"sortOrder\" value=\"desc\"> Сортировка от Я до А\n                        </label>\n                        <div id=\"filterValuesList\"></div>\n                        <button id=\"resetFilter\" class=\"btn btn-secondary mt-2\" disabled>Сброс фильтра</button>\n                    </div>\n                    <div class=\"modal-footer\">\n                        <button type=\"button\" class=\"btn btn-primary\" id=\"applyFilter\">Применить</button>\n                        <button type=\"button\" class=\"btn btn-secondary\" data-dismiss=\"modal\">Закрыть</button>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n\n\n\n\n\n    <script>\n        let currentColumn = '';\n        // let originalData = [];\n        const sessionData = sessionStorage.getItem('data');\n\n        function fetchData() {\n            $('#loading').show();\n            $('tbody').hide();\n\n            $.getJSON('data.json', function (response) {\n                originalData = response.data;\n                // console.log('originalData в fetchData: ', originalData);\n                sessionStorage.setItem('data', JSON.stringify(originalData)); //добавим дату с хранилище\n                $('tbody').show();\n                renderTable(originalData)\n\n                $('#loading').hide();\n            }).fail(function () {\n                console.error('Ошибка при загрузке данных');\n                $('#loading').hide();\n            });\n\n            // $.ajax({\n            // url: '/api/get_stat_table',\n            // method: 'GET',\n            // dataType: 'json',\n            // success: function(response) {\n            // originalData = response.data;\n            // renderTable(originalData);\n            // },\n            // error: function() {\n            // console.error('Ошибка при получении данных');\n            // }\n            // });\n        }\n\n        // функция отрисовки таблицы с одним графиком на товар:\n        //         function renderTable(data) {\n        //     const tbody = $('#data-table tbody');\n        //     tbody.empty();\n\n        //     data.forEach(item => {\n        //         const photo = item.photos ? `<img src=\"${item.photos[0].c246x328}\" alt=\"Фото\">` : '';\n        //         const subject = item.subjectName || '';\n        //         const nmID = item.nmID || '';\n        //         const vendorCode = item.vendorCode || '';\n        //         const graph = item.graph || '';\n        //         const rowCount = item.allowed_sizes.length;\n\n        //         console.log('graph: ', graph);\n        //         console.log('nmID: ', nmID);\n\n        //         let firstRow = true;\n\n        //         item.allowed_sizes.forEach(size => {\n        //             const orders30 = parseFloat(item['30midle_sales'][size]) || 0;\n        //             const orders14 = parseFloat(item['14midle_sales'][size]) || 0;\n        //             const leftovers = parseFloat(item['stocks'][size]) || 0;\n        //             const leftoversDays = orders30 === 0 ? 0 : (leftovers / orders30).toFixed(2);\n\n        //             const graphCell = firstRow ? `\n        //                 <td rowspan=\"${rowCount}\">\n        //                     <div class=\"chart-container\">\n        //                         <canvas id=\"${nmID}\" style=\"display: block; box-sizing: border-box;\"></canvas>\n        //                     </div>\n        //                 </td>\n        //             ` : '';\n\n        //             tbody.append(`\n        //                 <tr>\n        //                     <td>${photo}</td>\n        //                     <td>${subject}</td>\n        //                     <td>${nmID}</td>\n        //                     <td>${size}</td>\n        //                     <td>${orders30}</td>\n        //                     <td>${orders14}</td>\n        //                     ${graphCell}\n        //                     <td>${leftovers}</td>\n        //                     <td>${leftoversDays}</td>\n        //                     <td> <div class='inscription'>Введите кол-во дней в форму выше и рассчитайте </div></td>\n        //                     <td>${vendorCode}</td>\n        //                 </tr>\n        //             `);\n\n        //             if (firstRow) {\n        //                 initializeChart(nmID, graph);\n        //                 firstRow = false;\n        //             }\n        //         });\n        //     });\n        // }\n\n\n        function renderTable(data) {\n            const tbody = $('#data-table tbody');\n            tbody.empty();\n\n            data.forEach(item => {\n                const photo = item.photos ? `<img src=\"${item.photos[0].c246x328}\" alt=\"Фото\">` : '';\n                const subject = item.subjectName || '';\n                const nmID = item.nmID || '';\n                const vendorCode = item.vendorCode || '';\n                const graph = item.graph || '';\n\n                item.allowed_sizes.forEach(size => {\n                    const orders30 = parseFloat(item['30midle_sales'][size]) || 0;\n                    const orders14 = parseFloat(item['14midle_sales'][size]) || 0;\n                    const leftovers = parseFloat(item['stocks'][size]) || 0;\n                    const leftoversDays = orders30 === 0 ? 0 : (leftovers / orders30).toFixed(2);\n\n                    const graphCell = `\n                <td>\n                    <div class=\"chart-container\">\n                        <canvas id=\"${nmID}-${size}\" style=\"display: block; box-sizing: border-box;\"></canvas>\n                    </div>\n                </td>\n            `;\n\n                    const leftoversCellClass = getColorClass(leftovers);\n                    const leftoversDaysCellClass = getColorClass(leftoversDays);\n\n                    tbody.append(`\n                <tr>\n                    <td class=\"fixed-column\">${photo}</td>\n                    <td class=\"fixed-column-2\">${subject}</td>\n                    <td>${nmID}</td>\n                    <td>${size}</td>\n                    <td>${orders30}</td>\n                    <td>${orders14}</td>\n                    ${graphCell}\n                    <td class=\"${leftoversCellClass}\">${leftovers}</td>\n                    <td class=\"${leftoversDaysCellClass}\">${leftoversDays}</td>\n                    <td> <div class='inscription'>Введите кол-во дней в форму выше и рассчитайте </div></td>\n                    <td>${vendorCode}</td>\n                </tr>\n            `);\n\n                    initializeChart(`${nmID}-${size}`, graph);\n                });\n            });\n        }\n\n        function renderTableWithoutSizes(data) {\n           \n            const tbody = $('#data-table tbody');\n            tbody.empty();\n\n            data.forEach(item => {\n                const photo = item.photos ? `<img src=\"${item.photos[0].c246x328}\" alt=\"Фото\">` : '';\n                const subject = item.subjectName || '';\n                const nmID = item.nmID || '';\n                const vendorCode = item.vendorCode || '';\n                const graph = item.graph || '';\n                const orders30 = item['30midle_sales']\n                const orders14 = item['14midle_sales']\n                const leftovers = item['stocks']\n                // console.log('leftovers: ',leftovers);\n                let totalOrders30 = 0;\n                let totalOrders14 = 0;\n                let totalLeftovers = 0;\n\n\n                // Проверяем, что orders30/orders14/leftovers не пустые и является объектом и собираем данные ключей в них\n                if (orders30 && typeof orders30 === 'object') {\n                    for (const key in orders30) {\n                        if (orders30.hasOwnProperty(key)) {\n                            totalOrders30 += orders30[key];\n                        }\n                    }\n                }\n\n                if (orders14 && typeof orders14 === 'object') {\n                    for (const key in orders14) {\n                        if (orders14.hasOwnProperty(key)) {\n                            totalOrders14 += orders14[key];\n                        }\n                    }\n                }\n                if (leftovers && typeof leftovers === 'object') {\n                    for (const key in leftovers) {\n                        if (leftovers.hasOwnProperty(key)) {\n                            totalLeftovers += leftovers[key];\n                        }\n                    }\n                }\n                const averageOrders30 = Number((totalOrders30).toFixed(2))\n                const averageOrders14 = Number(parseFloat(totalOrders14).toFixed(2))\n                const averageLeftovers = Number(parseFloat(totalLeftovers).toFixed(2))\n                console.log('averageLeftovers: ', averageLeftovers);\n\n                console.log(typeof (averageOrders30), typeof (averageOrders14), typeof (averageLeftovers));\n\n\n\n                const leftoversDays = averageOrders30 === 0 ? 0 : (averageLeftovers / averageOrders30).toFixed(\n                    2);\n\n                const graphCell = `\n            <td>\n                <div class=\"chart-container\">\n                    <canvas id=\"${nmID}\" style=\"display: block; box-sizing: border-box;\"></canvas>\n                </div>\n            </td>\n        `;\n\n                const leftoversCellClass = getColorClass(leftovers);\n                const leftoversDaysCellClass = getColorClass(leftoversDays);\n\n                tbody.append(`\n            <tr>\n                <td class=\"fixed-column\">${photo}</td>\n                <td class=\"fixed-column-2\">${subject}</td>\n                <td>${nmID}</td>\n                <td>-</td>\n                <td>${averageOrders30}</td>\n                <td>${averageOrders14}</td>\n                ${graphCell}\n                <td class=\"${leftoversCellClass}\">${averageLeftovers}</td>\n                <td class=\"${leftoversDaysCellClass}\">${leftoversDays}</td>\n                <td> <div class='inscription'>Введите кол-во дней в форму выше и рассчитайте </div></td>\n                <td>${vendorCode}</td>\n            </tr>\n        `);\n\n                initializeChart(nmID, graph);\n            });\n            \n            \n        }\n\n        function renderTableReplenishment(data, valueReplenishment) {\n            const tbody = $('#data-table tbody');\n            tbody.empty();\n\n            data.forEach(item => {\n                const photo = item.photos ? `<img src=\"${item.photos[0].c246x328}\" alt=\"Фото\">` : '';\n                const subject = item.subjectName || '';\n                const nmID = item.nmID || '';\n                const vendorCode = item.vendorCode || '';\n                const graph = item.graph || '';\n\n                item.allowed_sizes.forEach(size => {\n                    const orders30 = parseFloat(item['30midle_sales'][size]) || 0;\n                    const orders14 = parseFloat(item['14midle_sales'][size]) || 0;\n                    const leftovers = parseFloat(item['stocks'][size]) || 0;\n                    const leftoversDays = orders30 === 0 ? 0 : (leftovers / orders30).toFixed(2);\n                    const replenishment = orders30 === 0 ? 0 : ((orders30 * valueReplenishment) -\n                        leftovers).toFixed(2);\n\n                    const graphCell = `\n                <td>\n                    <div class=\"chart-container\">\n                        <canvas id=\"${nmID}-${size}\" style=\"display: block; box-sizing: border-box;\"></canvas>\n                    </div>\n                </td>\n            `;\n                    const leftoversCellClass = getColorClass(leftovers);\n                    const leftoversDaysCellClass = getColorClass(leftoversDays);\n                    tbody.append(`\n                <tr>\n                    <td>${photo}</td>\n                    <td>${subject}</td>\n                    <td>${nmID}</td>\n                    <td>${size}</td>\n                    <td>${orders30}</td>\n                    <td>${orders14}</td>\n                    ${graphCell}\n                    <td class=\"${leftoversCellClass}\">${leftovers}</td>\n                    <td class=\"${leftoversDaysCellClass}\">${leftoversDays}</td>\n                    <td> ${replenishment}</td>\n                    <td>${vendorCode}</td>\n                </tr>\n            `);\n\n                    initializeChart(`${nmID}-${size}`, graph);\n                });\n            });\n        }\n\n        function getColorClass(value) {\n            if (value >= 0 && value <= 1.99) {\n                return 'red-cell';\n            } else if (value >= 2 && value <= 5.99) {\n                return 'yellow-cell';\n            } else if (value >= 6 && value <= 10.99) {\n                return 'light-yellow-cell';\n            } else if (value >= 11) {\n                return 'green-cell';\n            } else {\n                return '';\n            }\n        }\n\n\n        function sortData(column, order) {\n            const table = $('#data-table tbody');\n            const rows = table.find('tr').get(); //получили все строки в массив\n            // console.log('rows: ',rows); \n\n            rows.sort((a, b) => {\n                let aValue = $(a).find('td').eq(getColumnIndex(column)).text();\n                let bValue = $(b).find('td').eq(getColumnIndex(column))\n                    .text(); //если сортировка по столбцу 'nmID', функция getColumnIndex('nmID') вернет 2. Затем sortData использует этот индекс, чтобы получить текстовое содержимое ячеек с индексом 2 из строк a и b.\n\n                const isNumber = !isNaN(parseFloat(aValue)) && !isNaN(parseFloat(bValue));\n                const isCyrillic = /^[а-яА-ЯёЁ]+$/.test(aValue) && /^[а-яА-ЯёЁ]+$/.test(bValue);\n\n                if (isNumber) {\n                    return order === 'asc' ? aValue - bValue : bValue -\n                        aValue; //asc - флаг для восходящей сорировки, если нажат он, то выполни ее, если не он, то нисходящую\n                } else if (isCyrillic) {\n                    return order === 'asc' ? aValue.localeCompare(bValue, 'ru') : bValue.localeCompare(aValue,\n                        'ru');\n                } else {\n                    return order === 'asc' ? aValue.localeCompare(bValue, 'en') : bValue.localeCompare(aValue,\n                        'en');\n                }\n            });\n            //перезаписываем строки внужном порядке\n            $.each(rows, (index, row) => {\n                table.append(row);\n            });\n        }\n\n\n        function getColumnIndex(column) {\n            switch (column) {\n                case 'subjectName':\n                    return 1;\n                case 'nmID':\n                    return 2;\n                case 'allowed_sizes':\n                    return 3;\n                case 'orders30':\n                    return 4;\n                case 'orders14':\n                    return 5;\n                    case 'leftovers':\n                    return 7;\n                    case 'leftoversDays':\n                    return 8;\n                    case 'replenishment':\n                    return 9;\n                case 'vendorCode':\n                    return 10;\n                default:\n                    return -1;\n            }\n        }\n \n\n        function getUniqueColumnValues(column) {\n            const uniqueValues = [];\n            const columnIndex = getColumnIndex(column);\n\n            $('#data-table tbody tr').each(function () {\n                const value = $(this).find('td').eq(columnIndex).text().trim();\n                if (value !== '' && !uniqueValues.includes(value)) {\n                    uniqueValues.push(value);\n                }\n                // $(`.bi-filter[data-column=\"${column}\"]`).css('color', 'green');\n            });\n\n            return uniqueValues;\n        }\n\n        function initializeChart(canvasId, graphData) {\n            const ctx = document.getElementById(canvasId).getContext('2d');\n            const daysOfWeek = [\"Вс\", \"Пн\", \"Вт\", \"Ср\", \"Чт\", \"Пт\", \"Сб\"]; // индексы этих дней: 0,1,2,3,4,5,6\n            const currentDate = new Date();\n            const currentDayIndex = currentDate.getDay(); // нашли индекс текущего дня\n\n            console.log('canvasId: ', canvasId, 'graphData: ', graphData);\n\n            // меняем массив дней недели так, чтобы справа был текущий день недели\n            const labels = [...daysOfWeek.slice(currentDayIndex + 1), ...daysOfWeek.slice(0, currentDayIndex + 1)];\n\n            const currentWeekData = new Array(7).fill(0); // Продажи текущей недели\n            const previousWeekData = new Array(7).fill(0); // Продажи предыдущей \n\n            // меняем строку даты в объект Date\n            const parseDate = (dateString) => {\n                const [day, month, year] = dateString.split('.').map(num => parseInt(num, 10));\n                return new Date(\n                    `20${year}-${month.toString().padStart(2, '0')}-${day.toString().padStart(2, '0')}`);\n            };\n\n            // Функция для получения индекса дня недели\n            const getWeekdayIndex = (date) => {\n                return date.getDay();\n            };\n\n            // Заполняем данные продаж для текущей и предыдущей недели\n            for (const [dateString, count] of Object.entries(graphData)) {\n                const date = parseDate(dateString);\n                const dayDiff = Math.floor((currentDate - date) / (1000 * 60 * 60 * 24));\n                if (dayDiff >= 0 && dayDiff < 7) {\n                    currentWeekData[(7 + getWeekdayIndex(date) - currentDayIndex - 1) % 7] = count;\n                } else if (dayDiff >= 7 && dayDiff < 14) {\n                    previousWeekData[(7 + getWeekdayIndex(date) - currentDayIndex - 1) % 7] = count;\n                }\n            }\n\n            const myChart = new Chart(ctx, {\n                type: 'bar',\n                data: {\n                    labels: labels,\n                    datasets: [{\n                        label: 'Продажи предыдущей недели',\n                        data: previousWeekData,\n                        backgroundColor: 'rgba(75, 192, 192, 0.6)',\n                        borderColor: 'rgba(75, 192, 192, 1)',\n                        borderWidth: 1\n                    }, {\n                        label: 'Продажи текущей недели',\n                        data: currentWeekData,\n                        backgroundColor: 'rgba(153, 102, 255, 0.6)',\n                        borderColor: 'rgba(153, 102, 255, 1)',\n                        borderWidth: 1\n                    }]\n                },\n                options: {\n                    scales: {\n                        y: {\n                            beginAtZero: true,\n                            ticks: {\n                                color: 'grey' // Цвет текста на оси Y\n                            }\n                        },\n                        x: {\n                            ticks: {\n                                color: 'grey' // Цвет текста на оси X\n                            }\n                        }\n                    },\n                    plugins: {\n                        legend: {\n                            display: true,\n                            labels: {\n                                color: 'grey' // Цвет текста в легенде\n                            }\n                        },\n                        tooltip: {\n                            enabled: true,\n                            callbacks: {\n                                label: function (tooltipItem) {\n                                    let label = tooltipItem.dataset.label || '';\n                                    if (label) {\n                                        label += ': ';\n                                    }\n                                    label += tooltipItem.raw.toFixed(2);\n                                    return label;\n                                }\n                            }\n                        }\n                    },\n                    maintainAspectRatio: false,\n                    responsive: true\n                }\n            });\n        }\n\n        $(document).on('click', '.reloadData', function () {\n            sessionStorage.clear();\n            \n            fetchData();\n        });\n\n        $(document).on('click', '.deleteModify', function () {\n    if ($(this).text() === \"Показать товар без модификации\") {\n        // Изменяем текст кнопки на \"Показать модификации\"\n        $(this).text(\"Показать модификации\");\n\n        // Выполняем функцию renderTableWithoutSizes\n        \n        renderTableWithoutSizes(JSON.parse(sessionData));\n       \n    } else if ($(this).text() === \"Показать модификации\") {\n        // Изменяем текст кнопки на \"Показать товар без модификации\"\n        $(this).text(\"Показать товар без модификации\");\n\n        // Выполняем функцию renderTable\n       \n        renderTable(JSON.parse(sessionData));\n        \n    }\n});\n\n$(document).ready(function () {\n    let filterStatus = {}; // объект для отслеживания состояния фильтрации колонок\n    let sortStatus = {}; // объект для отслеживания состояния сортировки колонок\n    let currentColumn = null; // текущая колонка для фильтрации или сортировки\n    let originalOrder = []; // массив для хранения исходного порядка строк\n\n    if (sessionData) {\n        originalData = JSON.parse(sessionData);\n        renderTable(originalData);\n        saveOriginalOrder();\n    } else {\n        fetchData();\n    }\n\n    function saveOriginalOrder() {\n        originalOrder = $('#data-table tbody tr').get();\n    }\n\n    $('.bi-filter').on('click', function () {\n        currentColumn = $(this).data('column');\n        const uniqueValues = getUniqueColumnValues(currentColumn);\n        console.log('currentColumn: ', currentColumn);\n\n        // Очищаем предыдущий список и добавляем новые элементы\n        $('#filterValuesList').empty();\n        uniqueValues.forEach(value => {\n            $('#filterValuesList').append(\n                `<div class=\"filter-item\">${value}</div>`\n            );\n        });\n\n        $('#filterModal').modal('show');\n    });\n\n    $('#applyFilter').on('click', function () {\n        const sortOrder = $('input[name=\"sortOrder\"]:checked').val();\n        if (sortOrder) {\n            // Сбрасываем состояние сортировки для всех колонок перед применением новой сортировки\n            for (let column in sortStatus) {\n                delete sortStatus[column];\n            }\n\n            sortData(currentColumn, sortOrder);\n            $('#resetFilter').prop('disabled', false);\n            $('#filterModal').modal('hide');\n\n            // Устанавливаем зеленый цвет только для иконки в текущей колонке для сортировки\n            sortStatus[currentColumn] = true;\n            updateFilterIcons();\n        }\n    });\n\n    $('#resetFilter').on('click', function () {\n        if (filterStatus[currentColumn]) {\n            // Показать все строки, скрытые при фильтрации\n            $('#data-table tbody tr').show();\n        } else if (sortStatus[currentColumn]) {\n            // Восстановить исходный порядок строк\n            $.each(originalOrder, (index, row) => {\n                $('#data-table tbody').append(row);\n            });\n        }\n\n        $('input[name=\"sortOrder\"]').prop('checked', false);\n        $('#filterModal').modal('hide');\n\n        // Удаляем состояние фильтрации и сортировки для текущей колонки\n        delete filterStatus[currentColumn];\n        delete sortStatus[currentColumn];\n        updateFilterIcons();\n    });\n\n    $(document).on('click', '.filter-item', function () {\n        const filterValue = $(this).text().trim();\n        $('#data-table tbody tr').each(function () {\n            const rowValue = $(this).find('td').eq(getColumnIndex(currentColumn)).text().trim();\n            if (rowValue === filterValue) {\n                $(this).show();\n            } else {\n                $(this).hide();\n            }\n        });\n\n        $('#filterModal').modal('hide');\n\n        // Сбрасываем состояние сортировки для всех колонок при применении фильтра\n        for (let column in sortStatus) {\n            delete sortStatus[column];\n        }\n        // Устанавливаем зеленый цвет только для иконки в текущей колонке для фильтрации\n        filterStatus[currentColumn] = true;\n        updateFilterIcons();\n    });\n\n    $('.calculateReplenishment').on('click', function (value) {\n        const valueReplenishment = parseInt($('#daysInput').val());\n\n        if (isNaN(valueReplenishment) || valueReplenishment < 15 || valueReplenishment > 45) {\n            alert('Введите число в диапазоне от 15 до 45');\n        } else {\n            renderTableReplenishment(originalData, valueReplenishment);\n            $('#daysInput').val('');\n        }\n    });\n\n    function updateFilterIcons() {\n        $('.bi-filter').each(function () {\n            const column = $(this).data('column');\n            if (filterStatus[column]) {\n                $(this).css('color', 'green');\n            } else if (sortStatus[column]) {\n                $(this).css('color', 'green');\n            } else {\n                $(this).css('color', 'white');\n            }\n        });\n    }\n    \n});\n\n    </script>\n    <script src=\"https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.3/dist/umd/popper.min.js\"></script>\n    <script src=\"https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js\"></script>\n</body>\n\n</html>"
        }
    ]
}